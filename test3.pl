
%Restaurantes disponibles en la app
%formato: [nombre, tipoMenu, [direccion], [capacidad], [disposiciones]]

%San Jose
restaurante([mcdonald, rapida, ['SanJose', 'Plaza del Sol'], 30, 'es obligatorio el uso de mascarilla']).
restaurante([woods, italiana, ['San', 'Jose', 'Curridabat'], 20, 'es obligatorio el uso de mascarilla']).
restaurante([tacobell, mexicana, ['San', 'Jose', 'San Pedro'], 30, 'es obligatorio el uso de mascarilla']).
restaurante([kfc, rapida,['San', 'Jose', 'San Pedro'],20,'es obligatorio el uso de mascarilla']).
restaurante([marisqueando, mariscos,['San', 'Jose', 'Centro de Desamparados'],20,'es obligatorio el uso de mascarilla']).
restaurante([hongkong,china,['San', 'Jose', 'Moravia'],20,'es obligatorio el uso de mascarilla']).
restaurante([yokohama, japonesa, ['San', 'Jose', '200 mts al oeste de la Universidad de Costa Rica'], 20, 'es obligatorio el uso de mascarilla']).

%Cartaguito campeon
restaurante([autogrill, bar, ['Cartago', 'Mall Paseo Metropoli'], 40, 'es obligatorio el uso de mascarilla']).
restaurante([mcdonald, rapida, ['Cartago', 'MetroCentro'], 30, 'es obligatorio el uso de mascarilla']).
restaurante([pizzahut, italiana, ['Cartago', 'Ruinas de Cartago'], 5, 'es obligatorio el uso de mascarilla']).
restaurante([tejarena, rapida, ['Cartago', 'Tejar del Guarco'], 10, 'es obligatorio el uso de mascarilla']).
restaurante([tacobell, mexicana, ['Cartago', '100mts norte de las Ruinas'], 30, 'es obligatorio el uso de mascarilla']).
restaurante([yokohama, japonesa, ['Cartago', 'Plaza Boulevard, Blvd. el Molino, Provincia de Cartago, Cartago'], 20, 'es obligatorio el uso de mascarilla']).
restaurante([kfc, rapida,['Cartago', '50 mts al sur de las Ruinas'],20,'es obligatorio el uso de mascarilla']).
restaurante([linfei,china,['Cartago', '200 mts al este de la Basilica de Los Angeles'],20,'es obligatorio el uso de mascarilla']).

%Puntarenas
restaurante([mcdonald, rapida, ['Puntarenas', 'Plaza Centenario'], 30, 'es obligatorio el uso de mascarilla']).
restaurante([rostipollos, rapida, ['Puntarenas', 'Hotel Alamar'], 30, 'es obligatorio el uso de mascarilla']).
restaurante([pizzahut, italiana, ['Puntarenas', 'Ocean Mall'], 20, 'es obligatorio el uso de mascarilla']).
restaurante([fishy, mariscos, ['Puntarenas', 'Parque Mora'], 30, 'es obligatorio el uso de mascarilla']).
restaurante([kfc, rapida,['Puntarenas', 'Puntarenas Down Town'],20,'es obligatorio el uso de mascarilla']).
restaurante([yokohama, japonesa, ['Puntarenas', 'Puntarenas Down Town'],20,'es obligatorio el uso de mascarilla']).
restaurante([tacobell, mexicana, ['Puntarenas', 'Plaza La Rioja'], 30, 'es obligatorio el uso de mascarilla']).
restaurante([wingshun,china,['Puntarenas', 'Centro de la capital'],20,'es obligatorio el uso de mascarilla']).

%Heredia
restaurante([mcdonald, rapida, ['Heredia', 'Oxigeno Human Playground'], 30, 'es obligatorio el uso de mascarilla']).
restaurante([pizzahut, italiana, ['Heredia', 'Mall Paseo de Las Flores'], 20, 'es obligatorio el uso de mascarilla']).
restaurante([mariscosymas, mariscos, ['Heredia', 'Entrada principal de la UNA 100 oeste y 25 Sur'], 30, 'es obligatorio el uso de mascarilla']).
restaurante([kfc, rapida,['Heredia', 'Mall Paseo de Las Flores'],20,'es obligatorio el uso de mascarilla']).
restaurante([yokohama, japonesa, ['Heredia', 'Contiguo Al AYA De San Pablo 112, Heredia, San Pablo'],20,'es obligatorio el uso de mascarilla']).
restaurante([tacobell, mexicana, ['Heredia', 'Mall Paseo de Las Flores'], 30, 'es obligatorio el uso de mascarilla']).
restaurante([lungfung,china,['Heredia', 'Limón, Heredia'],20,'es obligatorio el uso de mascarilla']).

%Alajuela
restaurante([mcdonald, rapida, ['Alajuela', 'Diagonal Bomba Provincia de Alajuela La Tropicana, Provincia de Alajuela'], 30, 'es obligatorio el uso de mascarilla']).
restaurante([pizzahut, italiana, ['Alajuela', 'Centro de Alajuela'], 20, 'es obligatorio el uso de mascarilla']).
restaurante([limonta, mariscos, ['Alajuela', 'Avenida 6 y calle 5, casa esquinera mano derecha Alajuela'], 30, 'es obligatorio el uso de mascarilla']).
restaurante([kfc, rapida,['Alajuela', 'Cruce calle 2 Obispo Tristán y avenida 10 Jesús Ocaña'],20,'es obligatorio el uso de mascarilla']).
restaurante([matsuri, japonesa, ['Alajuela', 'Tropicana, Provincia de Alajuela, Alajuela'],20,'es obligatorio el uso de mascarilla']).
restaurante([tacobell, mexicana, ['Alajuela', 'Centro de Alajuela, Alajuela'], 30, 'es obligatorio el uso de mascarilla']).
restaurante([meywah,china,['Alajuela', 'Av. 3 Tomás Guardia, Provincia de Alajuela, Alajuela'],20,'es obligatorio el uso de mascarilla']).

%Guanacaste
restaurante([mcdonald, rapida, ['Guanacaste', 'Carretera Interamericana Esq, Av. Central, Provincia de Guanacaste, Liberia'], 30, 'es obligatorio el uso de mascarilla']).
restaurante([pizzahut, italiana, ['Guanacaste', 'Provincia de Guanacaste, Santa Cruz'], 20, 'es obligatorio el uso de mascarilla']).
restaurante([reina, mariscos, ['Guanacaste', 'Provincia de Guanacaste, Curime'], 30, 'es obligatorio el uso de mascarilla']).
restaurante([kfc, rapida,['Guanacaste', 'Diagonal a Plaza Santa Rosa, Liberia, Guanacaste, Provincia de Guanacaste, Liberia'],20,'es obligatorio el uso de mascarilla']).
restaurante([cos-ita, japonesa, ['Guanacaste', 'Parada de Buses Samara - San Jose, 160, Provincia de Guanacaste, Sámara'],20,'es obligatorio el uso de mascarilla']).
restaurante([tacobell, mexicana, ['Guanacaste', 'Limonal, Provincia de Guanacaste, La Palma'], 30, 'es obligatorio el uso de mascarilla']).
restaurante([yongxin,china,['Guanacaste', 'Provincia de Guanacaste, Liberia'],20,'es obligatorio el uso de mascarilla']).

%Limon
restaurante([mcdonald, rapida, ['Limon', 'Calle 8, Limon'], 30, 'es obligatorio el uso de mascarilla']).
restaurante([pizzahut, italiana, ['Limon', 'Av 2, Limón'], 20, 'es obligatorio el uso de mascarilla']).
restaurante([rancho, mariscos, ['Limon', 'Unnamed Road, Limon, Guapiles'], 30, 'es obligatorio el uso de mascarilla']).
restaurante([kfc, rapida,['Limon', 'Centro de Limon'],20,'es obligatorio el uso de mascarilla']).
restaurante([tacobell, mexicana, ['Limon', 'Sobre carretera Braulio Carrillo, Guapiles, Limon'], 30, 'es obligatorio el uso de mascarilla']).
restaurante([china-garden,china,['Limon', 'Pocora, Limon, sobre ruta 32, 100 este de Almacenes El Colono de, Limon, Pocora'],20,'es obligatorio el uso de mascarilla']).


%tipos menu
%formato: (tipo comida, [restaurantes], [sabores])
menu([hamburguesa, [mcdonald, tejarena, autogrill], [simple, conQueso, dobleTorta, vegana]]).
menu([hamburguesa, [autogrill], [artesanal]]).
menu([hamburguesas, [mcdonald, tejarena, autogrill], [simple, conQueso, dobleTorta, vegana]]).
menu([hamburguesas, [autogrill], [artesanal]]).

menu([arroz,[hongkong,linfei,wingshun,china-garden,yongxin,meywah,lungfung],[chino,conPollo,cantones]]).

menu([pollo, [kfc,rostipollos], [crispy, frito]]).
menu([pollos, [kfc,rostipollos], [crispy, frito]]).

menu([pescado,[fishy,marisqueando,mariscosymas,limonta,reina,rancho],[fileteado, empanizado, crispy]]).
menu([pescados,[fishy,marisqueando,mariscosymas,limonta,reina,rancho],[fileteado, empanizado, crispy]]).

menu([ceviche,[fishy,marisqueando,mariscosymas,limonta,reina,rancho],[conLimon]]).
menu([ceviches,[fishy,marisqueando,mariscosymas,limonta,reina,rancho],[conLimon]]).

menu([taco, [tacobell, autogrill], [simple, doble]]).
menu([tacos, [tacobell, autogrill], [simple, doble]]).

menu([nacho, [tacobell, autogrill, tejarena], [simple, res, pollo, combinado]]).
menu([nachos, [tacobell, autogrill, tejarena], [simple, res, pollo, combinado]]).

menu([sushi, [yokohama,matsuri,cos-ita], [tempura, soba, domburi, niguiri]]).

menu([pizza, [pizzahut, woods], [hongos, jamon, hawaiana, brasilena, margarita]]).
menu([pizzas, [pizzahut, woods], [hongos, jamon, hawaiana, brasilena, margarita]]).

menu([calzone, [pizzahut, woods], [tomate, pina]]).
menu([calzones, [pizzahut, woods], [tomate, pina]]).

menu([papa, [mcdonald, tejarena], [grandes, pequenas]]).
menu([papas, [mcdonald, tejarena], [grandes, pequenas]]).

bebida([cocaCola, [tacobell, yokohama, woods, pizzahut, mcdonald, tejarena]]).
bebida([sevenUp, [tacobell, yokohama, woods, pizzahut, mcdonald, tejarena]]).
bebida([uva, [tacobell, yokohama, woods, pizzahut, mcdonald, tejarena]]).
bebida([pepsi, [tacobell, yokohama, woods, pizzahut, mcdonald, tejarena]]).
bebida([fresa, [tacobell, yokohama, woods, pizzahut, mcdonald, tejarena]]).
bebida([cas, [tacobell, yokohama, woods, pizzahut, mcdonald, tejarena]]).
bebida([cerveza, [yokohama, woods]]).
bebida([artesanal, [yokohama, woods]]).
bebida([vino, [yokohama, woods]]).
bebida([sangria, [yokohama, woods]]).






% application_db.pl -- archivo secundario, contiene hechos de Prolog.
%
% Este archivo es parte de  CallCenterLog, El presente tiene como objetivo el desarrollo de una aplicacion que se comporte
% como un experto en la solucion de problemas comunes de un Call Center de TI utilizando Prolog. Los Sistemas expertos,
% de ahora en adelante SE, son aplicaciones de computo que involucran experiencia no algoritmica, para resolver cierto
% tipo de problema. La interfaz debe ser completamente natural utilizando el lenguaje espanol. El usuario que presenta
% el problema, ingresa e informa al SE de todos los inconvenientes que tiene (hardware y software) que le impiden realizar
% sus tareas normalmente y finalmente puede consultar.
%
% Version de Archivo		: 0.1
% Autores					: GitHub@angelortizv, GitHub@jesquivel48, GitHub@isolis2000
% Úlitma Modificacion		: 07/09/2019, 16:00, @angelortizv


:- discontiguous miembro/2.

% Palabras Clave para el BNF --------------------------------------------------------------------------------------------------------------

%  Descripción		:	Determinantes masculinos
% Nombre de Hecho	:	determinante_m(X)
% Parámetro			:	determinantes masculinos
% Uso				:	sintagma_nominal([A],[B])

determinante_m([el|S],S).
determinante_m([lo|S],S).
determinante_m([los|S],S).
determinante_m([un|S],S).
determinante_m([unos|S],S).

% Descripción		:	Determinantes femeninos
% Nombre de Hecho	:	determinante_f([X])
% Parámetro			:	determinantes femeninos
% Uso				:	sintagma_nominal([A],[B])

determinante_f([la|S],S).
determinante_f([las|S],S).
determinante_f([una|S],S).
determinante_f([unas|S],S).

% Descripción		:	Determinantes neutros
% Nombre de Hecho	:	determinante_n([X])
% Parámetro			:	determinantes neutros
% Uso				:	sintagma_nominal([A],[B])

determinante_n([nosotros|S],S).
determinante_n(['Nosotros'|S],S).
determinante_n([yo|S],S).
determinante_n(['Yo'|S],S).
% Descripción		:	Sustantivos
% Nombre de Hecho	:	sustantivo_g([X])
% Parámetro			:	sustantivo general (anónimo)
% Uso				:	sintagma_nominal([A],[B])

sustantivo_g([_|S],S).

% Descripción		:	Verbos
% Nombre de Hecho	:	verbo([X])
% Parámetro			:	verbos utilizables
% Uso				:	sintagma_verbal([A],[B])

verbo([comer|S], S).
verbo([tomar|S], S).
verbo([beber|S], S).
verbo([quiero|S],S).
verbo([queremos|S],S).
verbo([quiero,comer|S],S).
verbo([quiero,tomar|S],S).
verbo([quiero,beber|S],S).
verbo([queremos,comer|S],S).
verbo([queremos,tomar|S],S).
verbo([queremos,beber|S],S).

verbo([quiero,estar,cerca,de|S],S).
verbo([quiero,algo,cerca,de|S],S).
verbo([quiero,estar,alrededor,de|S],S).
verbo([quiero,algo,alrededor,de|S],S).
verbo([queremos,estar,cerca,de|S],S).
verbo([queremos,algo,cerca,de|S],S).
verbo([queremos,estar,alrededor,de|S],S).
verbo([queremos,algo,alrededor,de|S],S).

verbo([seria|S], S).
verbo([seriamos|S], S).
verbo([somos|S], S).

verbo(['Quiero'|S],S).
verbo(['Queremos'|S],S).
verbo(['Quiero,comer'|S],S).
verbo(['Quiero,tomar'|S],S).
verbo(['Quiero,beber'|S],S).
verbo(['Queremos,comer'|S],S).
verbo(['Queremos,tomar'|S],S).
verbo(['Queremos,beber'|S],S).

verbo(['Quiero,estar,cerca,de'|S],S).
verbo(['Quiero,algo,cerca,de'|S],S).
verbo(['Quiero,estar,alrededor,de'|S],S).
verbo(['Quiero,algo,alrededor,de'|S],S).
verbo(['Queremos,estar,cerca,de'|S],S).
verbo(['Queremos,algo,cerca,de'|S],S).
verbo(['Queremos,estar,alrededor,de'|S],S).
verbo(['Queremos,algo,alrededor,de'|S],S).

verbo(['Seria'|S], S).
verbo(['Seriamos'|S], S).
verbo(['Somos'|S], S).











% main.pl -- archivo principal para correr CallCenterLog, contiene reglas de Prolog.
%
% Este archivo es parte de  CallCenterLog, El presente tiene como objetivo el desarrollo de una aplicación que se comporte
% como un experto en la solución de problemas comunes de un Call Center de TI utilizando Prolog. Los Sistemas expertos,
% de ahora en adelante SE, son aplicaciones de cómputo que involucran experiencia no algorítmica, para resolver cierto
% tipo de problema. La interfaz debe ser completamente natural utilizando el lenguaje español. El usuario que presenta
% el problema, ingresa e informa al SE de todos los inconvenientes que tiene (hardware y software) que le impiden realizar
% sus tareas normalmente y finalmente puede consultar.
%
% Version de Archivo		: 0.1
% Autores					: GitHub@angelortizv, GitHub@jesquivel48, GitHub@isolis2000
% Úlitma Modificacion		: 07/09/2019, 16:00, @angelortizv
%Hola como esras?

%:-consult('application_db').
:-style_check(-singleton).
:-dynamic(soluciones/1).

% BNF -------------------------------------------------------------------------------------------------------------------------------------
% Validación Gramatical, Saludo, Despedida ------------------------------------------------------------------------------------------------


% Descripción		:	recibe una lista de palabras y una lista vacía y verifica si es una oración gramaticalmente correcta según la estructura establecida
% Nombre de Regla	:	oracion([A],[B])
% Parámetro			:	lista para revisar y lista vacía
% Uso				:	se utiliza para validar oraciones

oracion(A,B):-
    sintagma_nominal(A,C).


% Descripción		:	recibe una lista de palabras y una lista vacía; elimina el primer sintagma nominal encontrado y devuelve el resto de las palabras
% Nombre de Regla	:	sintagma_nominal([A],[B])
% Parámetro			:	lista a revisar y lista vacía
% Uso				:	se utiliza para encontrar el primer sintagma nominal en una lista de palabras

sintagma_nominal(A,B):-
    determinante_m(A,C),
    sintagma_verbal(C,Z),
	sustantivo_g(Z,B).
sintagma_nominal(A,B):-
    determinante_f(A,C),
    sintagma_verbal(C,Z),
	sustantivo_g(Z,B).
sintagma_nominal(A,B):-
    determinante_n(A,C),
    sintagma_verbal(C,Z),
	sustantivo_g(Z,B).
sintagma_nominal(A,B):-
    determinante_n(A,C),
    sintagma_verbal(C,Z),
    determinante_m(Z,Y),
	sustantivo_g(Y,B).
sintagma_nominal(A,B):-
    determinante_n(A,C),
    sintagma_verbal(C,Z),
    determinante_f(Z,Y),
	sustantivo_g(Y,B).
sintagma_nominal(A,B):-
    determinante_n(A,C),
    sintagma_verbal(C,Z),
	sustantivo_g(Z,B).
sintagma_nominal(A,B):-
	sintagma_verbal(A,C),
    sustantivo_g(C,B).
sintagma_nominal(A,B):-
    sintagma_verbal(A,B).


% Descripción		:	recibe una lista de palabras y una lista vacía; elimina el primer sintagma verbal encontrado y devuelve el resto de las palabras
% Nombre de Regla	:	sintagma_verbal([A],[B])
% Parámetro			:	lista a revisar y lista vacía
% Uso				:	se utiliza para encontrar el primer sintagma verbal en una lista de palabras

sintagma_verbal(A,B):-
	verbo(A,B).

% Descripción		:	valida si la oración digitada por el usuario está gramaticalmente correcta según el BNF establecido
% Nombre de Regla	:	validacion_gramatical()
% Parámetro			:	lista a revisar
% Uso				:	Se utiliza para verificar gramaticalmente una oración, de lo contrario, devolver un mensaje al usuario
validacion_gramatical(Oracion):-
    oracion(Oracion,[]),
	!.

validacion_gramatical(Oracion):-
	writeln('Oracion gramaticalmente incorrecta #1'),
	writeln('Escriba de nuevo su oracion #1'),nl,
	input_to_list(Oracion2),
	validacion_gramatical(Oracion2).




% Reglas necesarias para operaciones basicas ------------------------------------------------------------------------------------------------------------

lista_vacia(List, Empty) :-
    length(List, Len),
    (   Len =< 1
    ->  Empty = true
    ;   Empty = false
    ).

input_to_list(L):-
	read_line_to_codes(user_input,Cs),
	atom_codes(A,Cs),
	atomic_list_concat(L,' ',A).

input_to_string(A):-
	read_line_to_codes(user_input,Cs),
	atom_codes(A,Cs).

list_to_string(List, String):-
	atomic_list_concat(List, ' ', String).

string_to_list_of_atoms(X,L):-
	atom_codes(X,A),
	atomic_list_concat(L,' ',X).

miembro(X,[X|_]).
miembro(X,[_|T]):-miembro(X,T).



%******************************************************************************
%******************************************************************************
%******************************************************************************



%******************************************************************************
%******************************************************************************
%******************************************************************************

% Se busca el tipo de menu
listaTipoDeMenu(L) :- findall(X, (restaurante([_,X,_,_,_])) , L).

compareTipoDeMenu([],X):- nl, writeln('El tipo de menu ingresado no esta disponible'),
						  writeln('Intente de nuevo'),nl,
						  input_to_list(Oracion),
						  compareTipoDeMenu(Oracion,X).
compareTipoDeMenu([H|_], X):- listaTipoDeMenu(L),
							  miembro(H,L),
							  X = H, !.
compareTipoDeMenu([H|T], X):- listaTipoDeMenu(L),
	                          \+miembro(H,L),
	                          compareTipoDeMenu(T,X).

% Se buscan los restaurantes 
listaRestaurantes(L) :- findall(X, (restaurante([X|_])), L).

compareRest([],X):- nl, writeln('El restaurante ingresado no esta disponible'),
					writeln('Intente de nuevo'),nl,
					input_to_list(Oracion),
					compareRest(Oracion,X).
compareRest([H|_], X):- listaRestaurantes(L),
						miembro(H,L),
						X = H, !.
compareRest([H|T], X):- listaRestaurantes(L),
	                    \+miembro(H,L),
	                    compareRest(T,X).

% Se busca la comida
listaComidas(L) :- findall(X, (menu([X|_])), L).

compareComida([],X):- nl, writeln('La comida ingresada no esta disponible'),
					  writeln('Intente de nuevo'),nl,
					  input_to_list(Oracion),
					  compareComida(Oracion,X).
compareComida([H|_], X):- listaComidas(L),
						  miembro(H,L), 
						  X = H, !.
compareComida([H|T], X):- listaComidas(L),
	                      \+miembro(H,L),
	                      compareComida(T,X).

% Se buscan el sabor especifico de la comida
listaSaborComida(L) :- findall(X, (menu([_,_,X])), L).

compareSaborComidaAux([H|_], X):- listaSaborComida(L),
						          flatten(L,Y),
						          X = Y.

compareSaborComida([],X):- nl, writeln('El sabor de la comida ingresado no esta disponible'),
						   writeln('Intente de nuevo'),nl,
						   input_to_list(Oracion),
						   compareSaborComida(Oracion,X).
compareSaborComida([H|_], X):- compareSaborComidaAux(C, Y),
							   miembro(H,Y), 
							   X = H, !.
compareSaborComida([H|T], X):- compareSaborComidaAux(C, Y),
	                           \+miembro(H,Y),
	                           compareSaborComida(T,X).

% Se buscan los refrescos
listaBebidas(L) :- findall(X, (bebida([X|_])) , L).

compareBebida([],X):- nl, writeln('El sabor de la bebida ingresada no esta disponible'),
					  writeln('Intente de nuevo'),nl,
					  input_to_list(Oracion),
					  compareBebida(Oracion,X).
compareBebida([H|_], X):- listaBebidas(L),
						  miembro(H,L),
						  X = H, !.
compareBebida([H|T], X):- listaBebidas(L),
	                      \+miembro(H,L),
	                      compareBebida(T,X).

% Se buscan los lugares
listaLugar(L) :- findall(X, (restaurante([_,_,X,_,_])) , L).

compareLugarAux([H|_], X):- listaLugar(L),
						    flatten(L,Y),
						    X = Y.

compareLugar([],X):- nl, writeln('El lugar ingresado no esta disponible'),
					 writeln('Intente de nuevo'),nl,
					 input_to_list(Oracion),
					 compareLugar(Oracion,X).
compareLugar([H|_], X):- compareLugarAux(C, Y),
						 miembro(H,Y), 
						 X = H, !.
compareLugar([H|T], X):- compareLugarAux(C, Y),
	                     \+miembro(H,Y),
	                     compareLugar(T,X).

% Se busca la cantidad
listaCantidad(Cantidad) :- numlist(1, 40, CantidadTemp),
							list_to_string(CantidadTemp, Str),
							string_to_list_of_atoms(Str,Cantidad).	

compareCantidad([],X):-  nl, writeln('No hay cupo para la cantidad de personas ingresadas'),
						 writeln('Intente de nuevo'),nl,
						 input_to_list(Oracion),
						 compareCantidad(Oracion,X).
compareCantidad([H|_], X):- listaCantidad(L), 
							miembro(H,L) , 
							atom_number(H, Y),
							X = Y, !.
compareCantidad([H|T], X):- listaCantidad(L),
	                        \+miembro(H,L),
	                        compareCantidad(T,X).


pedirDatos(NombreRest, TipoMenu, TipoComida, SaborComida, TipoBebida, LugarDeseado, CantidadDeseada):- 
	% Se busca el tipo de menu
	nl, writeln('¿Que tipo de menu desea comer? (Puede se rapida, china, etc.)'),
	input_to_list(Oracion),
	validacion_gramatical(Oracion),
    compareTipoDeMenu(Oracion, TipoMenuTemp),
	TipoMenu = TipoMenuTemp,
	
	% Se busca el restaurante
	nl, writeln('¿En cual restaurante desea comer?'),
	input_to_list(Oracion2),
	validacion_gramatical(Oracion2),
    compareRest(Oracion2, RestTemp),
	NombreRest = RestTemp,	

	% Se busca la comida
	nl, write('¿Cual comida de '), write(NombreRest), write(' desea?'), nl,
	input_to_list(Oracion3),
	validacion_gramatical(Oracion3),
	compareComida(Oracion3, ComidaTemp),
	TipoComida = ComidaTemp,

	% Se busca algun sabor especifico
	nl, write('¿Cual tipo de '), write(TipoComida), write(' desea?'), nl,
	input_to_list(Oracion4),
	validacion_gramatical(Oracion4),
	compareSaborComida(Oracion4, SaborComidaTemp),
	SaborComida = SaborComidaTemp,

	% Se busca la bebida
	nl, writeln('¿Que le gustaria de tomar?'),
	input_to_list(Oracion5),
	validacion_gramatical(Oracion5),
	compareBebida(Oracion5, BebidaTemp),
	TipoBebida = BebidaTemp,

	% Se busca el lugar
	nl, write('¿En cual provincia le gustaria buscar '), write(NombreRest), write(' ?'), nl,
	input_to_list(Oracion6),
	validacion_gramatical(Oracion6),
	compareLugar(Oracion6, LugarTemp),
	LugarDeseado = LugarTemp,

	% Se busca la cantidad
	nl, writeln('¿Para cuantas personas le gustaria buscar?'),
	input_to_list(Oracion7),
	validacion_gramatical(Oracion7),
	compareCantidad(Oracion7, CantidadTemp),
	CantidadDeseada = CantidadTemp,

	nl, writeln(NombreRest),
	write(TipoMenu),
	write(TipoComida),
	write(SaborComida),
	write(TipoBebida), 
	write(LugarDeseado),
	write(CantidadDeseada),nl,	
	% Se validan los datos y se busca la referencia en caso de existir
	buscarRestauranteConDatosIngresados(NombreRest, TipoMenu, TipoComida, SaborComida, TipoBebida, LugarDeseado, CantidadDeseada).



%******************************************************************************
%******************************************************************************
%******************************************************************************


verificarDatos(NombreRest, NombreIngresado, NombreIngresado2, SaborComida, SaboresDisponibles):-	
	miembro(NombreRest, NombreIngresado), 
	miembro(NombreRest, NombreIngresado2), 
	miembro(SaborComida, SaboresDisponibles).

%busca el mejor restaurante segun los parametros dados.
buscarRestauranteConDatosIngresados(NombreRest, TipoMenu, TipoComida, SaborComida, TipoBebida, LugarDeseado, CantidadDeseada):-
    restaurante([NombreRest, TipoMenu, [LugarDeseado | Direccion], RCapacidad, Obligaciones]),
	CantidadDeseada > 0,
	CantidadDeseada =< RCapacidad,
	menu([TipoComida, NombreIngresado, SaboresDisponibles]),
	bebida([TipoBebida, NombreIngresado2]),
	verificarDatos(NombreRest, NombreIngresado, NombreIngresado2, SaborComida, SaboresDisponibles),
	crearReferencia(NombreRest, Direccion, Obligaciones),
	buscarNuevamente(), !.

buscarRestauranteConDatosIngresados(NombreRest, TipoMenu, TipoComida, SaborComida, TipoBebida, LugarDeseado, CantidadDeseada):-
	restaurante([NombreRest, TipoMenu, [LugarDeseado | Direccion], RCapacidad, Obligaciones]),
	CantidadDeseada > 0,
	CantidadDeseada =< RCapacidad,
	menu([TipoComida, NombreIngresado, SaboresDisponibles]),
	bebida([TipoBebida, NombreIngresado2]),
	\+verificarDatos(NombreRest, NombreIngresado, NombreIngresado2, SaborComida, SaboresDisponibles),
	nl, writeln('**************************************************************************************'), nl,
	nl, writeln('--> No se pudo encuentrar ningun restaurante con los datos ingresados. Lo sentimos <--'), nl,
	nl, writeln('**************************************************************************************'), nl,
	buscarNuevamente(), !.

crearReferencia(NombreRest, DireccionTemp, Obligaciones):-
	list_to_string(DireccionTemp,Direccion),
	TempRef = ['--> Nuestra sugerencia de restaurante es', NombreRest, 
		       '. La direccion es: ', Direccion, 
		       '. Tenga en cuenta que para ingresar al restaurante', Obligaciones, '. <--'],

	list_to_string(TempRef, Ref), nl,
	nl, writeln('**************************************************************************************'), nl,
	writeln(Ref),
	nl, writeln('**************************************************************************************'), nl.

buscarNuevamenteAux(Respuesta):- miembro('si',Respuesta),
								 pedirDatos(A,B,C,D,E,F,G).
buscarNuevamenteAux(Respuesta):- \+miembro('si',Respuesta),
								 despedida(), !.

buscarNuevamente():- nl, writeln('--> Desea buscar nuevamente? (Debe responder con si o no a la pregunta) <--'), nl,
						input_to_list(Respuesta),
						buscarNuevamenteAux(Respuesta), !.

% Ejecutor SE -----------------------------------------------------------------------------------------------------------------------------

encabezado():-
	sleep(0.02),
		write('       ||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||       '),nl,
		sleep(0.02),
		write('       ||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||       '),nl,
		sleep(0.02),
		write('       ||||||||||||||||||||||||||| RestauranTEC |||||||||||||||||||||||||       '),nl,
		sleep(0.02),
		write('       ||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||       '),nl,
		sleep(0.02),
		write('       ||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||       '),nl.



despedida():- nl, writeln('**************************************************************************************'), nl,
			  nl, write('         --> Muchas gracias por preferirnos. '), write('Lo esperamos pronto. <--'), nl, nl,
			  nl, writeln('**************************************************************************************'), nl, !. 

inicio():-
	encabezado(),
	pedirDatos(A,B,C,D,E,F,G).


%******************************************************************************
%******************************************************************************
%******************************************************************************